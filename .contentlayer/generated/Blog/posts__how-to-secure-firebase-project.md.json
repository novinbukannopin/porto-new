{
  "title": "How to Secure Your Firebase Project",
  "date": "2021-05-13",
  "cover": "https://images.unsplash.com/photo-1582139329536-e7284fece509?auto=format&q=80",
  "thumbnail": "ðŸ”’",
  "legacyID": "2021-05-13-how-to-secure-firebase-project",
  "published": true,
  "tags": [
    "security",
    "firebase\r"
  ],
  "readTime": {
    "text": "3 min read",
    "minutes": 2.46,
    "time": 147600,
    "words": 492
  },
  "body": {
    "raw": "\r\n> disclaimer: This is not by any means to be the best practice guide of using firebase in every project. Every project has its own needs and specifications. This guide may not be suitable with your needs.\r\n\r\nDo you develop apps using Firebase? If so, we should know that our firebase configs will be exposed to the client (especially for web clients). Then what's the deal? Many possibilities can be happened and prevented. So many articles already covers on how to secure our firebase project by using security rules, authentication check, etc. I usually define my security rules using a package named [`@jahed/firebase-rules`](https://www.npmjs.com/package/@jahed/firebase-rules). But how about preventing someone from making their own client and use our exposed firebase configs to do some shady stuffs towards our realtime database?\r\n\r\n## Apply Restrictions to the API Key\r\n\r\nEvery firebase project is a GCP (Google Cloud Platform) project, so we can go to Google Cloud console to configure further our firebase project. We can restrict the API key even though it is exposed. Just follow these steps:\r\n\r\n1. Go to [https://console.cloud.google.com/apis](https://console.cloud.google.com/apis),\r\n   ![Credentials Tab](https://sznm.dev/images/2021-05-13-how-to-secure-firebase-project/GCP-01.png)\r\n2. Select the desired firebase project,\r\n3. Go to `Credentials` menu,\r\n4. Look for `API Keys` section, select the API key which has `...(auto created by Firebase)`,\r\n   ![API Key Restrictions Tab](https://sznm.dev/images/2021-05-13-how-to-secure-firebase-project/GCP-02.png)\r\n5. You will be directed to a page called `Restrict and rename API key`, go to `Application restrictions` section, select `HTTP referrers (web sites)`, add your production web client domain in `Website restrictions` section. Don't add `localhost` if you intend to use the firebase project for production.\r\n6. Hit the `save` button to apply changes.\r\n\r\nVoila! Your API key already restricted!\r\n\r\n## Use Different Firebase Project for Local Development\r\n\r\nNow that we already apply restrictions to our API key, how about our local development (`localhost`)? Well, we can just create a new firebase project which will be used for our local development.\r\n\r\n### Special Case: Develop Hybrid Mobile App Using Ionic\r\n\r\nWhen developing hybrid app using ionic, chances are we gonna use the same firebase configs for Web and Android / iOS build (firebase web configs). Even though we made several firebase web configs, the API key will remain the same. If we apply restrictions to the API key to be only accessible for certain domain, then the API key won't be usable for the mobile build. Fortunately, there is a workaround for this. We can just create a new API key which don't have any domain restrictions just for our mobile build (the API key can't be easily accessed by the user anyway for Android / iOS build). So, we can use the same firebase configs for our web and mobile builds, but having different API key. Just go to https://console.cloud.google.com/apis/credentials (make sure you already select the corresponding project first), then just create a new API key which will be used for your mobile apps.\r\n\r\n### References\r\n\r\n- Defining Firebase security rules\r\n  - [https://www.npmjs.com/package/@jahed/firebase-rules](https://www.npmjs.com/package/@jahed/firebase-rules)\r\n- Restrict API key\r\n  - [https://medium.com/@devesu/how-to-secure-your-firebase-project-even-when-your-api-key-is-publicly-available-a462a2a58843](https://medium.com/@devesu/how-to-secure-your-firebase-project-even-when-your-api-key-is-publicly-available-a462a2a58843)\r\n",
    "html": "<blockquote>\n<p>disclaimer: This is not by any means to be the best practice guide of using firebase in every project. Every project has its own needs and specifications. This guide may not be suitable with your needs.</p>\n</blockquote>\n<p>Do you develop apps using Firebase? If so, we should know that our firebase configs will be exposed to the client (especially for web clients). Then what's the deal? Many possibilities can be happened and prevented. So many articles already covers on how to secure our firebase project by using security rules, authentication check, etc. I usually define my security rules using a package named <a href=\"https://www.npmjs.com/package/@jahed/firebase-rules\"><code>@jahed/firebase-rules</code></a>. But how about preventing someone from making their own client and use our exposed firebase configs to do some shady stuffs towards our realtime database?</p>\n<h2>Apply Restrictions to the API Key</h2>\n<p>Every firebase project is a GCP (Google Cloud Platform) project, so we can go to Google Cloud console to configure further our firebase project. We can restrict the API key even though it is exposed. Just follow these steps:</p>\n<ol>\n<li>Go to <a href=\"https://console.cloud.google.com/apis\">https://console.cloud.google.com/apis</a>,\r\n<img src=\"https://sznm.dev/images/2021-05-13-how-to-secure-firebase-project/GCP-01.png\" alt=\"Credentials Tab\"></li>\n<li>Select the desired firebase project,</li>\n<li>Go to <code>Credentials</code> menu,</li>\n<li>Look for <code>API Keys</code> section, select the API key which has <code>...(auto created by Firebase)</code>,\r\n<img src=\"https://sznm.dev/images/2021-05-13-how-to-secure-firebase-project/GCP-02.png\" alt=\"API Key Restrictions Tab\"></li>\n<li>You will be directed to a page called <code>Restrict and rename API key</code>, go to <code>Application restrictions</code> section, select <code>HTTP referrers (web sites)</code>, add your production web client domain in <code>Website restrictions</code> section. Don't add <code>localhost</code> if you intend to use the firebase project for production.</li>\n<li>Hit the <code>save</code> button to apply changes.</li>\n</ol>\n<p>Voila! Your API key already restricted!</p>\n<h2>Use Different Firebase Project for Local Development</h2>\n<p>Now that we already apply restrictions to our API key, how about our local development (<code>localhost</code>)? Well, we can just create a new firebase project which will be used for our local development.</p>\n<h3>Special Case: Develop Hybrid Mobile App Using Ionic</h3>\n<p>When developing hybrid app using ionic, chances are we gonna use the same firebase configs for Web and Android / iOS build (firebase web configs). Even though we made several firebase web configs, the API key will remain the same. If we apply restrictions to the API key to be only accessible for certain domain, then the API key won't be usable for the mobile build. Fortunately, there is a workaround for this. We can just create a new API key which don't have any domain restrictions just for our mobile build (the API key can't be easily accessed by the user anyway for Android / iOS build). So, we can use the same firebase configs for our web and mobile builds, but having different API key. Just go to <a href=\"https://console.cloud.google.com/apis/credentials\">https://console.cloud.google.com/apis/credentials</a> (make sure you already select the corresponding project first), then just create a new API key which will be used for your mobile apps.</p>\n<h3>References</h3>\n<ul>\n<li>Defining Firebase security rules\n<ul>\n<li><a href=\"https://www.npmjs.com/package/@jahed/firebase-rules\">https://www.npmjs.com/package/@jahed/firebase-rules</a></li>\n</ul>\n</li>\n<li>Restrict API key\n<ul>\n<li><a href=\"https://medium.com/@devesu/how-to-secure-your-firebase-project-even-when-your-api-key-is-publicly-available-a462a2a58843\">https://medium.com/@devesu/how-to-secure-your-firebase-project-even-when-your-api-key-is-publicly-available-a462a2a58843</a></li>\n</ul>\n</li>\n</ul>"
  },
  "_id": "posts/how-to-secure-firebase-project.md",
  "_raw": {
    "sourceFilePath": "posts/how-to-secure-firebase-project.md",
    "sourceFileName": "how-to-secure-firebase-project.md",
    "sourceFileDir": "posts",
    "contentType": "markdown",
    "flattenedPath": "posts/how-to-secure-firebase-project"
  },
  "type": "Blog",
  "id": "how-to-secure-firebase-project"
}